<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Player</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
	<style>
		body { background: #0b0f19; color: #e6e6e6; }
		.wrapper { max-width: 960px; margin: 40px auto; }
		video { width: 100%; background: #000; border-radius: 8px; }
	</style>
</head>
<body>
	<div class="wrapper">
		<h3 class="mb-3">Simple Player</h3>
		<p class="text-muted">Playing: <code>{{ url }}</code></p>
		<video id="video" controls playsinline></video>
	</div>

	<script>
		(function(){
			const url = {{ url | tojson }};
			const video = document.getElementById('video');
			if (window.Hls && Hls.isSupported() && url.includes('.m3u8')) {
				const hls = new Hls();
				hls.loadSource(url);
				hls.attachMedia(video);
				hls.on(Hls.Events.MANIFEST_PARSED, function() { video.play(); });
			} else {
				video.src = url;
				video.play();
			}
		})();
	</script>
</body>
</html>